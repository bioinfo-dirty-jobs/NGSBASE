<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Tutorial  jaffa program &middot; Training Course on Fusion transcript detection
    
  </title>

  <!-- CSS -->
    <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="/training_fusion/public/css/poole.css">
  <link rel="stylesheet" href="/training_fusion/public/css/syntax.css">
  <link rel="stylesheet" href="/training_fusion/public/css/lanyon.css">
  <link rel="stylesheet" href="/training_fusion/public/css/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/training_fusion/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/training_fusion/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="/training_fusion/js/toc.js"></script>
</head>


  <body class="theme-base-07">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" checked>

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Fusion training</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/training_fusion/">Home</a>

    

    
    
      
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/01.welcome/">Welcome and introduction</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/02.setup_tutorial/">General installation for Fusion detection tutorial</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/03.jaffa/">Jaffa configuration</a>
        
      
    
      
        
          <a class="sidebar-nav-item active" href="http://localhost:4000/lectures/04.jaffa.tutorial/">Tutorial  jaffa program</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/05.starfusion/">STAR-FUSION configuration</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/06.starfusion.tutorial/">Tutorial star-fusion</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/07.exploration/">Hand on on exploration results</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/lectures/08.fusioncather/">Fusioncatcher</a>
        
      
    

    <!--<a class="sidebar-nav-item" href="/archive/v1.2.zip">Download</a>-->
    <a class="sidebar-nav-item" href="https://bioinfo-dirty-jobs.github.io/training_fusion/">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.2</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2018. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="http://localhost:4000/" title="Home">Training Course on Fusion transcript detection</a>
            <!--<p></p><small>Tutorial  jaffa program</small></p>-->
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <h1 class="page-title">Tutorial  jaffa program</h1>
  <p class="note">Analisys using JAFFA.</p>
  
    <!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

  
  <hr />

<h1 id="tutorial-with-data">Tutorial with Data</h1>
<hr />

<ul>
  <li><a href="">Hands On 1</a></li>
  <li><a href="">Hands On 2</a></li>
  <li><a href="">Hands On 3</a></li>
  <li><a href="">Hands On 4 (Optional)</a></li>
  <li>[Hands On 5 (Optional)] ()</li>
</ul>

<p>First of all we need to connect with the virtual machine. To achieve this we need to use terminal (if you use linux) or <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PUtty</a> or <a href="http://mobaxterm.mobatek.net/download.html">mobaxterm</a></p>

<p><img src="http://localhost:4000/images/FirstStep.jpg" width="400" /></p>

<p>Connect with the virtual machine:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  		**ssh -X nomeutente49@m49.lsb.biocomp.unibo.it**
X11 forwarding request failed on channel 0
Linux m49.lsb.biocomp.unibo.it 4.9.0-3-amd64 #1 SMP Debian 4.9.30-2+deb9u3 (2017-08-06) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Mon Sep  4 10:10:54 2017 from 172.16.197.254
um49@m49:~$ 


</code></pre>
</div>

<p>Then we move on the directory of the tutorial</p>

<div class="highlighter-rouge"><pre class="highlight"><code>**cd fusion/tutorial-fusion-transcript-2017/**
um49@m49:~/fusion/tutorial-fusion-transcript-2017$

</code></pre>
</div>
<p>then we aply ls -ltr on the directory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>**(root) um49@m49:~/fusion/tutorial-fusion-transcript-2017$ ls**
RAW  README.md  Results  scripts


</code></pre>
</div>
<p>On the <strong>RAW/</strong> we have the fastq, <strong>script</strong> contain example script and on Results directory some pre-computed results.</p>

<p>Star the tutorial!!!</p>

<h3 id="hands-on-1">Hands On 1</h3>
<hr />

<p>We need to activate the enviroment:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>**source /opt/conda/bin/activate**
	(root) um49@m49:~/fusion/tutorial-fusion-transcript-2017$
</code></pre>
</div>

<p>then we  set the directory ot the reference database:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>export JAFFA_REF_BASE=/nfs/fusion/JAFFA/
</code></pre>
</div>
<p>Now we move on  directory where we run JAFFA:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/fusion/tutorial-fusion-transcript-2017/Results/JAFFA/BT4
</code></pre>
</div>

<p>Now we  apply assembly algoritm of jaffa on BT474-demo fastq.:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  
jaffa-assembly ~/fusion/tutorial-fusion-transcript-2017/RAW/BT474-demo_*.fastq.gz 

</code></pre>
</div>

<p>This step require at least 3-5  minutes.</p>

<pre><code class="language-(bash)">**(root) um49@m49:~/fusion/tutorial-fusion-transcript-2017/Results/JAFFA$ ls**
BT474-demo  checks  commandlog.txt  jaffa_results.csv  jaffa_results.fasta
</code></pre>
<p>Two main file we use :</p>

<ul>
  <li>jaffa_results.csv</li>
  <li>jaffa_results.fasta</li>
</ul>

<p>Look the first 10 lines of the results:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head jaffa_result.csv

</code></pre>
</div>

<p>with the help of the instruction familiarizate with the output of JAFFA <a href="https://github.com/Oshlack/JAFFA/wiki/OutputDescription">manual</a></p>

<p><img src="http://localhost:4000/images/jaffa_results.png" width="800" /></p>

<hr />

<h3 id="hands-on-2">Hands On 2</h3>
<hr />
<p>Please Try to use the other two modules Direct and Hybrid:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ..
mkdir  Direct
cd  Direct/
jaffa-Direct ~/fusion/tutorial-fusion-transcript-2017/RAW/BT474-demo_*.fastq.gz 


cd ..
mkdir Hybrid
cd Hybrid

jaffa-hybrid ~/fusion/tutorial-fusion-transcript-2017/RAW/BT474-demo_*.fastq.gz 

</code></pre>
</div>

<hr />

<h3 id="hands-on-3">Hands On 3</h3>
<hr />

<p>How can  detect fusion on MCF7-Sample using jaffa?</p>

<p>This step require 4-5  minutes. Move on MCF7 directory and run jaffa-assembly</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/fusion/tutorial-fusion-transcript-2017/Results/JAFFA/MCF7/

jaffa-assembly ~/fusion/tutorial-fusion-transcript-2017/RAW/MCF7-demo_*.fastq.gz



</code></pre>
</div>

<h3 id="hands-on-4-optional">Hands On 4 (Optional)</h3>
<hr />
<p>Run all the samples in the same time. This produce a sigle  csv with the name of the samples and fusions.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/fusion/tutorial-fusion-transcript-2017/Results/JAFFA/
mkdir ALL
rm -rf BT4/ MCF7/
cd ALL/


jaffa-assembly ~/fusion/tutorial-fusion-transcript-2017/RAW/MCF7-demo_*.fastq.gz ~/fusion/tutorial-fusion-transcript-2017/RAW/BT474-demo_*.fastq.gz



</code></pre>
</div>

<h3 id="hands-on-5-optional">Hands On 5 (Optional)</h3>
<hr />
<p>Run all the samples in the same time. Run hybryd protocol for both samples.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ~/fusion/tutorial-fusion-transcript-2017/Results/JAFFA/
mkdir Hy_all/
cd Hy_all


jaffa-hybrid  ~/fusion/tutorial-fusion-transcript-2017/RAW/MCF7-demo_*.fastq.gz ~/fusion/tutorial-fusion-transcript-2017/RAW/BT474-demo_*.fastq.gz



</code></pre>
</div>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  <!--<footer>
        <p>This project is maintained by  Maurizio Polano<br/></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

-->
  </body>
</html>
